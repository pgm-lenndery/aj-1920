(() => {
    const projects = [
        {
            title: 'Marsman',
            descr: 'Let\'s meet on another planet',
            about: 'Opdracht: \'stel je voor dat een reis naar de planeet Mars even gewoon zou zijn als een intercontinentale vlucht op aarde. Hoe zou je deze reis dan promoten?\'',
            team: [
                {
                    firstName: 'Kato',
                    lastName: 'Janssens',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                }
            ],
            thumbnail: 'images/01-marsman/marsman.jpg',
            media: [
                {
                    src: 'images/01-marsman/3.mascotte.jpg',
                    alt: 'mascotte',
                },
                {
                    src: 'images/01-marsman/4.poster.jpg',
                    alt: 'poster',
                },
                {
                    src: 'images/01-marsman/5.poster.jpg',
                    alt: 'poster',
                },
            ],
            tags: ['Graphic Design'],
            likes: 2091,
            views: 10393,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '24/05/2018',
            date_m: '24/05/2018',
            date_p: '24/05/2018'
        },
        {
            title: 'Cesar',
            descr: '2D animatie met Vormator',
            about: 'De briefing van deze opdracht voor het vak \'2D Animatie\' luidde als volgt: maak een one minute video door gebruik te maken van ‘Vormator’ elementen.',
            team: [
                {
                    firstName: 'Victor',
                    lastName: 'Gouhie',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                }
            ],
            thumbnail: 'images/02-cesar/2_detail_cesar.png',
            media: [
                {
                    src: 'images/02-cesar/1_detail_theelements.png',
                    alt: 'elements',
                },
                {
                    src: 'images/02-cesar/cesar.gif',
                    alt: 'movement',
                },
                {
                    src: 'images/02-cesar/6_detail_cesar.png',
                    alt: 'details',
                },
            ],
            tags: ['2D Animatie'],
            likes: 9029,
            views: 79820,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '24/05/2018',
            date_m: '24/05/2018',
            date_p: '24/05/2018'
        },
        {
            title: 'SnekTheMuseum',
            descr: 'Ontdek Gentse Musea',
            about: 'Het idee voor “snek the museum” is ontstaan uit een project voor “Apps for Ghent”. Dit is een initiatief om de open-data van gent maximaal te gaan benutten en de mogelijkheden ervan bij zoveel mogelijk mensen bekend te maken. Ons idee komt voort uit een andere populaire app, “surprise.me” . Dit is een app die voor u willekeurig gaat bepalen waar u op reis gaat, net voordat u vertrekt. Wij willen iets gelijkaardig creëren, maar dan voor Gentse musea. En dit met een toffe, speelse twist die u de musea beter leert kennen!',
            team: [
                {
                    firstName: 'Pieter',
                    lastName: 'Vleminckx',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                },
                {
                    firstName: 'Jérôme',
                    lastName: 'Laroy',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: false,
                },
                {
                    firstName: 'Nick',
                    lastName: 'Boone',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: false,
                },
            ],
            thumbnail: 'images/03-snek/mockup-snekthemuseum.jpg',
            media: [
                {
                    src: 'images/03-snek/mockup-snekthemuseum.jpg',
                    alt: 'mockup',
                },
                {
                    src: 'images/03-snek/mockup-design.jpg',
                    alt: 'mockup',
                },
            ],
            tags: ['React Native', 'React', 'Redux', 'MongoDb', 'Firebase', 'Node.js'],
            likes: 4272,
            views: 23019,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '28/06/2019',
            date_m: '28/06/2019',
            date_p: '28/06/2019'
        },
        {
            title: 'Space Dweller',
            descr: 'Ontdek Gentse Musea',
            about: 'Opdracht: \'stel je voor dat een reis naar de planeet Mars even gewoon zou zijn als een intercontinentale vlucht op aarde. Hoe zou je deze reis dan promoten?\'',
            team: [
                {
                    firstName: 'Jonas',
                    lastName: 'Dermul',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                }
            ],
            thumbnail: 'images/06-spacedweller/balk-logo2.png',
            media: [
                {
                    src: 'images/06-spacedweller/balk-logo.png',
                    alt: 'logo',
                },
                {
                    src: 'images/06-spacedweller/balk-poster.png',
                    alt: 'poster',
                },
                {
                    src: 'images/06-spacedweller/balk-visual-poster.png',
                    alt: 'visual poster',
                },
                {
                    src: 'images/06-spacedweller/balk-buswrap.png',
                    alt: 'logo',
                },
                {
                    src: 'images/06-spacedweller/balk-visual-buswrap.png',
                    alt: 'poster',
                },
            ],
            tags: ['Graphic Design'],
            likes: 4272,
            views: 23019,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '06/03/2018',
            date_m: '06/03/2018',
            date_p: '06/03/2018'
        },
        {
            title: 'Trash.',
            descr: 'The clean keeper',
            about: 'Opdracht: bedenk, ontwerp en programmeer een Hybrid App dat het ecologische, economische en sociaal probleem van zwerfvuil en sluikstorten kan helpen oplossen.',
            team: [
                {
                    firstName: 'Bert',
                    lastName: 'Goossens',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                }
            ],
            thumbnail: 'images/05-trash/thumbnail.png',
            media: [
                {
                    src: 'images/05-trash/1_moodboard.png',
                    alt: 'moodboard',
                },
                {
                    src: 'images/05-trash/2_detail_ideaboard.png',
                    alt: 'moodboard',
                },
                {
                    src: 'images/05-trash/3_detail_wireframe.png',
                    alt: 'wireframe',
                },
                {
                    src: 'images/05-trash/4_detail_screendesign.png',
                    alt: 'screendesign',
                },
                {
                    src: 'images/05-trash/5_detail_screendesign.png',
                    alt: 'screendesign',
                },
                {
                    src: 'images/05-trash/6_detail_screendesign.png',
                    alt: 'screendesign',
                },
                {
                    src: 'images/05-trash/7_detail_screendesign.png',
                    alt: 'screendesign',
                },
                {
                    src: 'images/05-trash/8_detail_screendesign.png',
                    alt: 'screendesign',
                },
            ],
            tags: ['Ionic', 'Laravel', 'Angular'],
            likes: 4272,
            views: 23019,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '20 juli',
            date_m: '21 juli',
            date_p: '22 juli'
        },
        {
            title: 'Diabeasy',
            descr: 'New Media Apps',
            about: 'Opdracht: bedenk, ontwerp en maak een prototype van een smartwatch- en een smartphone-app, en maak er een promowebsite voor. Diabeasy is een app voor diabetici die ervoor moet zorgen dat mensen met diabetes gedurende de hele dag een constante bloedsuikerspiegel hebben en het aantal insuline-injecties zo minimaal mogelijk kunnen houden.',
            team: [
                {
                    firstName: 'Stijn',
                    lastName: 'Gevens',
                    thumbnail: 'images/thumbnail.jpg',
                    owner: true,
                }
            ],
            thumbnail: 'images/04-diabeasy/thumb_400x400.png',
            media: [
                {
                    src: 'images/04-diabeasy/ontwerp-website.png',
                    alt: 'design website',
                },
                {
                    src: 'images/04-diabeasy/wireflow-smartphone.jpg',
                    alt: 'wireflow smartphone',
                },
                {
                    src: 'images/04-diabeasy/wireflow-smartwatch.jpg',
                    alt: 'wireflow smartwatch',
                },
            ],
            tags: ['Ionic', 'Laravel', 'Angular'],
            likes: 4272,
            views: 23019,
            comments: [
                {
                    name: 'Stan Lee',
                    content: 'Very cool',
                    date: '29/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Tony Stark',
                    content: 'Not as cool as my site.',
                    date: '30/05/2018',
                    claps: 1002,
                },
                {
                    name: 'Peggy Carter',
                    content: 'Well don\'t hold your breath. Especially with tuberculosis.',
                    date: '05/06/2018',
                    claps: 1002,
                },
                
            ],
            date_c: '20 juli',
            date_m: '21 juli',
            date_p: '22 juli'
        },
    ]

    const app = {
        initialize() {
            this.contentMain = document.getElementById('contentMain');
            this.body = document.querySelector('body');
            this.overlay = document.querySelector('#contentOverlay');
            this.close = document.querySelector('#btnCloseOverlay');
            this.close.addEventListener('click', ev => this.menuFlip(false)); // Close overlay when clicked on close button
            this.generateMain(); // Execute generateMain functio 
            // console.log(contentMain);
        },

        generateMain() { // Generate front page
            if (contentMain !== null) {
                for (let i = 0; i < projects.length; i++) {
                    // this.overlay.appendChild(this.close);
                    this.box = document.createElement('article'); // Create new article element inseide #contentMain
                    this.box.setAttribute('data-id', i); // Give data-id attribute with index of array item to article element
                    this.contentMain.appendChild(this.box); // Place article elements inside #contentMain
                    const project = projects[i]; // Const 'project' for current array item
                    this.box.innerHTML += `
                        <img src="${project.thumbnail}">
                        <div class="card-body">
                            <h3>${project.title}</h3>
                            <div>${project.descr}</div>
                        </div>
                        <div class="card-footer">
                            <div class="likes">
                                <i data-feather="heart"></i>
                                <small>${project.likes}</small>
                            </div>
                            <div class="views">
                                <i data-feather="eye"></i>
                                <small>${project.views}</small>
                            </div>
                        </div>
                    `

                    this.box.addEventListener('click', (ev) => {
                        this.menuFlip(true); // Open menu
                        const id = ev.target.dataset.id || ev.target.parentNode.dataset.id; // Get id of the clicked box
                        const project = projects[id]; // Get project item by id of current box
                        this.generateOverlay(project); // Execute fucntion to generate the overlay
                    });
                }
            }
        },

        generateOverlay(project) { // Generate #overlay with detailed card info
            this.overlay.innerHTML = `
                <div>
                    <img class="project-thumbnail" src="${project.thumbnail}" height="300px" width="100%">
                    <div class="container">
                        <h1>${project.title}</h1>
                        <p><strong>${project.descr}</strong></p>
                        <div class="row project-social-stats">
                            <div class="likes"><i data-feather="heart"></i><small>${project.likes}</small></div>
                            <div class="views"><i data-feather="eye"></i><small>${project.views}</small></div>
                        </div>
                        <div class="row project-details">
                            <div class="col">
                                <p class="project-about">${project.about}</p>
                            </div>
                            <div class="col data-group">
                                <p class="project-team"><i data-feather="users"></i>${this.generateTeam(project.team)}</p>
                                <p><i data-feather="tag"></i><small>${project.tags.join(', ')}</small></p>
                                <p><i data-feather="clock"></i><small>${project.date_p}</small></p>
                            </div>
                        </div>
                        <div class="project-gallery">
                            <div class="wrapper">
                                ${this.generateProjectGallery(project.media)}
                            </div>
                        </div>
                        <div class="project-comments">
                            <h3>Reacties</h3>
                            ${this.generateComments(project.comments)}
                        </div>
                    </div>
                </div>
            `
            feather.replace(); // Execute function everytime overlay is loaded so icons are placed
        },

        menuFlip (isOpen) { // Open or close #overlay
            if (isOpen) { 
                // If is open argument in function true, do this
                this.body.classList.add('flip'); // Add class 'add' to body
                this.body.classList.remove('close'); // Remove class 'close' from body
            } else { 
                // Otherwise do this
                this.body.classList.add('close'); // Add class 'close to body
                this.body.classList.remove('flip'); // Remove class 'flip' from body
            }
        },

        generateProjectGallery(imageArray) { // Generate images for #overlay
            let tempStr = ''; // Make let that is a string
            imageArray.forEach((image) => {
              tempStr += `
                <img src="${image.src}" alt="${image.alt}" height="150px">
              `
            });
            return tempStr; // Give the tempStr value back
        },

        generateTeam(teamArray) {// Generate team members names for #overlay
            let tempStr = ''; // Make let that is a string
            teamArray.forEach((member) => {
              tempStr += `
                <small>${member.firstName},</small>
                `
            });
            return tempStr; // Give the tempStr value back
        },

        generateComments(commentsArray) { // Generate comments for #overlay
            let tempStr = ''; // Make let that is a string
            commentsArray.forEach((comment) => {
              tempStr += `
                    <div>
                        <h3>${comment.name}</h3>
                        <small><strong>${comment.claps} claps</strong> &nbsp - &nbsp ${comment.date}</small>
                        <p>${comment.content}</p>
                    </div>
                `
            });
            return tempStr; // Give the tempStr value back
        },

    }

    app.initialize(); // Initialize app – execute
})()




